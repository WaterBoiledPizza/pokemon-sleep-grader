const PTYPE = {
    Berry: 0,
    Ingredient: 1,
    Skill: 2
}
const Poke2Type = {
    'Bulbasaur': PTYPE.Ingredient, 'Ivysaur': PTYPE.Ingredient, 'Venusaur': PTYPE.Ingredient,
    'Charmander': PTYPE.Ingredient, 'Charmeleon': PTYPE.Ingredient, 'Charizard': PTYPE.Ingredient,
    'Squirtle': PTYPE.Ingredient, 'Wartortle': PTYPE.Ingredient, 'Blastoise': PTYPE.Ingredient,
    'Caterpie': PTYPE.Berry, 'Metapod': PTYPE.Berry, 'Butterfree': PTYPE.Berry,
    'Rattata': PTYPE.Berry, 'Raticate': PTYPE.Berry,
    'Ekans': PTYPE.Berry, 'Arbok': PTYPE.Berry,
    'Pikachu': PTYPE.Berry, 'Raichu': PTYPE.Berry,
    'Clefairy': PTYPE.Berry, 'Clefable': PTYPE.Berry,
    'Jigglypuff': PTYPE.Skill, 'Wigglytuff': PTYPE.Skill,
    'Diglett': PTYPE.Ingredient, 'Dugtrio': PTYPE.Ingredient,
    'Meowth': PTYPE.Skill, 'Persian': PTYPE.Skill,
    'Psyduck': PTYPE.Skill, 'Golduck': PTYPE.Skill,
    'Mankey': PTYPE.Berry, 'Primeape': PTYPE.Berry,
    'Growlithe': PTYPE.Skill, 'Arcanine': PTYPE.Skill,
    'Bellsprout': PTYPE.Ingredient, 'Weepinbell': PTYPE.Ingredient, 'Victreebel': PTYPE.Ingredient,
    'Geodude': PTYPE.Ingredient, 'Graveler': PTYPE.Ingredient, 'Golem': PTYPE.Ingredient,
    'Slowpoke': PTYPE.Skill, 'Slowbro': PTYPE.Skill,
    'Magnemite': PTYPE.Skill, 'Magneton': PTYPE.Skill,
    'Doduo': PTYPE.Berry, 'Dodrio': PTYPE.Berry,
    'Gastly': PTYPE.Ingredient, 'Haunter': PTYPE.Ingredient, 'Gengar': PTYPE.Ingredient,
    'Onix': PTYPE.Berry,
    'Cubone': PTYPE.Berry, 'Marowak': PTYPE.Berry,
    'Kangaskhan': PTYPE.Ingredient,
    'Mr. Mime': PTYPE.Ingredient,
    'Pinsir': PTYPE.Ingredient,
    'Ditto': PTYPE.Ingredient,
    'Eevee': PTYPE.Skill, 'Vaporeon': PTYPE.Skill, 'Jolteon': PTYPE.Skill, 'Flareon': PTYPE.Skill,
    'Chikorita': PTYPE.Berry, 'Bayleef': PTYPE.Berry, 'Meganium': PTYPE.Berry,
    'Cyndaquil': PTYPE.Berry, 'Quilava': PTYPE.Berry, 'Typhlosion': PTYPE.Berry,
    'Totodile': PTYPE.Berry, 'Croconaw': PTYPE.Berry, 'Feraligatr': PTYPE.Berry,
    'Pichu': PTYPE.Berry,
    'Cleffa': PTYPE.Berry,
    'Igglybuff': PTYPE.Skill,
    'Togepi': PTYPE.Skill, 'Togetic': PTYPE.Skill,
    'Mareep': PTYPE.Skill, 'Flaaffy': PTYPE.Skill, 'Ampharos': PTYPE.Skill,
    'Sudowoodo': PTYPE.Skill,
    'Espeon': PTYPE.Skill, 'Umbreon': PTYPE.Skill,
    'Slowking': PTYPE.Skill,
    'Wobbuffet': PTYPE.Skill,
    'Steelix': PTYPE.Berry,
    'Heracross': PTYPE.Skill,
    'Houndour': PTYPE.Berry, 'Houndoom': PTYPE.Berry,
    'Larvitar': PTYPE.Ingredient, 'Pupitar': PTYPE.Ingredient, 'Tyranitar': PTYPE.Ingredient,
    'Slakoth': PTYPE.Berry, 'Vigoroth': PTYPE.Berry, 'Slaking': PTYPE.Berry,
    'Sableye': PTYPE.Skill,
    'Gulpin': PTYPE.Skill, 'Swalot': PTYPE.Skill,
    'Swablu': PTYPE.Berry, 'Altaria': PTYPE.Berry,
    'Shuppet': PTYPE.Berry, 'Banette': PTYPE.Berry,
    'Absol': PTYPE.Ingredient,
    'Wynaut': PTYPE.Skill,
    'Spheal': PTYPE.Berry, 'Sealeo': PTYPE.Berry, 'Walrein': PTYPE.Berry,
    'Bonsly': PTYPE.Skill,
    'Mime Jr.': PTYPE.Ingredient,
    'Riolu': PTYPE.Skill, 'Lucario': PTYPE.Skill,
    'Croagunk': PTYPE.Ingredient, 'Toxicroak': PTYPE.Ingredient,
    'Magnezone': PTYPE.Skill,
    'Togekiss': PTYPE.Skill,
    'Leafeon': PTYPE.Skill, 'Glaceon': PTYPE.Skill,
    'Sylveon': PTYPE.Skill,
}
const Nature2Score = {
    'Hardy': [1.00, 1.00, 1.00], 'Lonely': [1.00, 1.00, 0.67], 'Brave': [1.67, 1.67, 1.67],
    'Adamant': [3.00, -0.17, 0.67], 'Naughty': [1.83, 1.67, -0.17],
    'Bold': [-1.33, -1.33, -1.00], 'Docile': [1.00, 1.00, 1.00], 'Relaxed': [-0.67, -0.67, -0.33],
    'Impish': [1.50, -1.33, -0.17], 'Lax': [0.17, 0.17, -1.00],
    'Timid': [-1.00, -1.00, -1.00], 'Hasty': [0.33, 0.33, 0], 'Serious': [1.00, 1.00, 1.00],
    'Jolly': [2.17, -1.00, 0.17], 'Naive': [0.83, 0.58, -1.00],
    'Modest': [-1.67, 0.50, -0.33], 'Mild': [-1.00, 1.17, 0], 'Quiet': [-0.67, 2.00, 1.00],
    'Bashful': [1.00, 1.00, 1.00], 'Rash': [-0.50, 2.00, -0.67],
    'Calm': [-0.67, -0.67, 0.67], 'Gentle': [-0.33, 0.33, 1.33], 'Sassy': [0, 0.25, 1.67],
    'Careful': [1.50, -1.00, 1.33], 'Quirky': [1.00, 1.00, 1.00]
}
const Subskill2Score = {
    'Berry Finding S': [5, 4, 5], 'Dream Shard Bonus': [2, 2, 2],
    'Energy Recovery Bonus': [3, 3, 3], // 'Energy Recovery S': [1, 1, 1], 'Energy Recovery M': [2, 2, 2],
    'Helping Bonus': [5, 5, 5], 'Helping Speed S': [3, 3, 3], 'Helping Speed M': [4, 4, 4],
    'Ingredient Finder S': [1, 4, 3], 'Ingredient Finder M': [1, 5, 4],
    'Inventory Up S': [2, 3, 2], 'Inventory Up M': [3, 4, 3], 'Inventory Up L': [4, 5, 4],
    'Research EXP Bonus': [2, 2, 2],
    'Skill Level Up S': [3, 3, 4], 'Skill Level Up M': [4, 4, 5],
    'Skill Trigger S': [3, 3, 4], 'Skill Trigger M': [4, 4, 5],
    'Sleep EXP Bonus': [3, 3, 3]
}
const LevelScaling = [1.5, 1.25, 1, 0.75, 0.5]
// percentile calculation: see calculate_cache.py
const PercentileBerry = [ 9.58, 10.25, 10.67, 11.  , 11.25, 11.5 , 11.75, 11.83, 12.  ,
    12.25, 12.33, 12.5 , 12.58, 12.75, 12.83, 13.  , 13.08, 13.25,
    13.25, 13.42, 13.5 , 13.58, 13.75, 13.75, 13.83, 14.  , 14.  ,
    14.08, 14.25, 14.25, 14.33, 14.5 , 14.5 , 14.58, 14.67, 14.75,
    14.83, 14.92, 15.  , 15.  , 15.08, 15.25, 15.25, 15.33, 15.42,
    15.5 , 15.5 , 15.58, 15.75, 15.75, 15.83, 15.92, 16.  , 16.  ,
    16.08, 16.25, 16.25, 16.33, 16.42, 16.5 , 16.5 , 16.58, 16.75,
    16.75, 16.83, 16.92, 17.  , 17.  , 17.17, 17.25, 17.25, 17.42,
    17.5 , 17.5 , 17.67, 17.75, 17.75, 17.92, 18.  , 18.08, 18.25,
    18.25, 18.42, 18.5 , 18.58, 18.75, 18.83, 19.  , 19.08, 19.25,
    19.42, 19.58, 19.75, 20.  , 20.25, 20.5 , 20.75, 21.17, 21.75,
    25.75]
const PercentileIngredient = [13.42, 13.92, 14.25, 14.5 , 14.75, 14.92, 15.08, 15.25, 15.33,
    15.5 , 15.58, 15.75, 15.83, 15.92, 16.  , 16.08, 16.25, 16.25,
    16.33, 16.5 , 16.5 , 16.58, 16.67, 16.75, 16.83, 16.92, 17.  ,
    17.  , 17.08, 17.17, 17.25, 17.25, 17.33, 17.42, 17.5 , 17.5 ,
    17.58, 17.67, 17.75, 17.75, 17.83, 17.92, 17.92, 18.  , 18.  ,
    18.08, 18.17, 18.25, 18.25, 18.33, 18.42, 18.5 , 18.5 , 18.5 ,
    18.58, 18.67, 18.75, 18.75, 18.83, 18.92, 19.  , 19.  , 19.08,
    19.17, 19.25, 19.25, 19.25, 19.42, 19.5 , 19.5 , 19.58, 19.67,
    19.75, 19.75, 19.83, 19.92, 20.  , 20.  , 20.08, 20.25, 20.25,
    20.33, 20.5 , 20.5 , 20.67, 20.75, 20.75, 20.92, 21.  , 21.17,
    21.25, 21.42, 21.5 , 21.75, 21.92, 22.08, 22.25, 22.67, 23.17,
    25.75]
const PercentileSkill = [13.  , 13.5 , 13.92, 14.25, 14.42, 14.58, 14.75, 15.  , 15.08,
        15.25, 15.33, 15.5 , 15.58, 15.75, 15.75, 15.92, 16.  , 16.08,
        16.17, 16.25, 16.33, 16.42, 16.5 , 16.58, 16.67, 16.75, 16.75,
        16.92, 17.  , 17.  , 17.08, 17.17, 17.25, 17.25, 17.33, 17.42,
        17.5 , 17.5 , 17.58, 17.67, 17.75, 17.75, 17.92, 17.92, 18.  ,
        18.  , 18.08, 18.17, 18.25, 18.25, 18.33, 18.42, 18.5 , 18.5 ,
        18.58, 18.67, 18.75, 18.75, 18.83, 18.92, 19.  , 19.  , 19.08,
        19.17, 19.25, 19.25, 19.33, 19.42, 19.5 , 19.58, 19.67, 19.75,
        19.75, 19.83, 19.92, 20.  , 20.08, 20.17, 20.25, 20.25, 20.42,
        20.5 , 20.58, 20.67, 20.75, 20.92, 21.  , 21.08, 21.17, 21.33,
        21.42, 21.58, 21.75, 21.92, 22.08, 22.33, 22.58, 22.92, 23.42,
        26.17]

const PercentileBerry10 = [0.5, 0.83, 0.83, 1.17, 1.5, 1.67, 1.9456, 2, 2.33, 2.33, 2.4388, 2.5, 2.5, 2.5, 2.67, 2.83, 3, 3., 3.17, 3.17, 3.33, 3.3776, 3.5, 3.5, 3.67, 3.83, 3.83, 3.83, 3.83, 3.83, 4, 4, 4, 4, 4, 4.1088, 4.17, 4.33, 4.5, 4.5, 4.5, 4.67, 4.67, 4.67, 4.83, 4.83, 5, 5, 5.17, 5.33, 5.33, 5.33, 5.33, 5.5, 5.5, 5.5, 5.5, 5.5, 5.5, 5.5, 5.5, 5.5, 5.5204, 5.7276, 6, 6, 6, 6, 6.0952, 6.17, 6.17, 6.33, 6.33, 6.33, 6.5, 6.67, 6.83, 6.83, 6.9932, 7, 7., 7, 7, 7, 7.068, 7.5, 7.5, 7.5, 7.5, 7.67, 7.83, 7.8572, 8.2212, 8.5, 8.5, 8.5, 9, 9, 9.33, 10.5]

const PercentileIngredient10 = [2, 2, 2.33, 3.17, 3.17, 3.17, 3.2244, 3.33, 3.5, 3.5, 3.5, 3.5, 3.5096, 3.83, 3.83, 3.83, 4, 4, 4, 4.33, 4.3436, 4.67, 4.67, 4.67, 4.67, 4.67, 4.75, 4.83, 4.83, 4.83, 5, 5, 5, 5, 5, 5, 5, 5.08, 5.33, 5.33, 5.33, 5.5, 5.5, 5.5, 5.5, 5.5, 5.5, 5.5, 5.5, 5.67, 5.67, 5.83, 6.17, 6.17, 6.17, 6.17, 6.17, 6.17, 6.25, 6.33, 6.33, 6.33, 6.5, 6.5, 6.5, 6.5, 6.5, 6.5, 6.5448, 6.58, 6.83, 7, 7, 7, 7, 7, 7, 7, 7, 7., 7.17, 7.33, 7.67, 7.67, 7.67, 7.7212, 7.83, 7.8504, 8, 8., 8, 8.08, 8.5, 8.5, 8.5, 8.5, 8.67, 9.17, 9.5, 9.5]

const PercentileSkill10 = [2, 2, 2.33, 2.67, 2.83, 2.83, 3, 3.17, 3.5, 3.5, 3.5, 3.5, 3.5204, 3.67, 3.67, 3.83, 4, 4, 4, 4., 4.17, 4.17, 4.2532, 4.33, 4.33, 4.33, 4.5, 4.5, 4.5, 4.67, 4.67, 5, 5, 5, 5, 5, 5.17, 5.17, 5.17, 5.266, 5.33, 5.5, 5.5, 5.5, 5.5, 5.5, 5.5, 5.5, 5.67, 5.67, 5.83, 5.83, 5.83, 5.83, 5.83, 6, 6, 6.17, 6.17, 6.17, 6.17, 6.5, 6.5, 6.5, 6.602, 6.67, 6.67, 6.67, 6.83, 7., 7, 7, 7, 7, 7, 7, 7.17, 7.17, 7.33, 7.33, 7.33, 7.33, 7.5, 7.5, 7.67, 7.67, 7.67, 8.17, 8.17, 8.17, 8.5, 8.5, 8.5, 8.5, 8.5, 8.5, 8.83, 8.83, 9.17, 9.17]

const PercentileBerry25 = [3.25, 3.75, 4.17, 4.5, 4.75, 5.0, 5.08, 5.25, 5.42, 5.58, 5.75, 5.83, 6.0, 6.08, 6.25, 6.25, 6.33, 6.5, 6.58, 6.67, 6.75, 6.812399999999998, 6.92, 7.0, 7.17, 7.25, 7.33, 7.42, 7.5, 7.58, 7.58, 7.75, 7.75, 7.75, 7.83, 7.92, 8.0, 8.0, 8.17, 8.25, 8.25, 8.33, 8.42, 8.5, 8.58, 8.67, 8.75, 8.75, 8.83, 8.92, 9.0, 9.08, 9.08, 9.17, 9.25, 9.25, 9.25, 9.33, 9.42, 9.5, 9.531200000000027, 9.67, 9.75, 9.75, 9.92, 10.0, 10.026399999999994, 10.08, 10.25, 10.25, 10.33, 10.5, 10.5, 10.5, 10.58, 10.75, 10.75, 10.75, 10.92, 11.0, 11.08, 11.25, 11.25, 11.42, 11.51199999999997, 11.58, 11.75, 11.83, 12.0, 12.00800000000003, 12.25, 12.25, 12.5, 12.75, 12.92, 13.25, 13.5, 13.75, 14.25, 16.75]

const PercentileIngredient25 = [5.75, 6.0, 6.5, 6.92, 7.0, 7.17, 7.25, 7.25, 7.33, 7.58, 7.75, 7.83, 8.0, 8.08, 8.17, 8.25, 8.42, 8.42, 8.5, 8.5, 8.58, 8.650199999999998, 8.75, 8.75, 8.75, 8.83, 8.83, 9.0, 9.08, 9.08, 9.25, 9.25, 9.25, 9.42, 9.5, 9.5, 9.67, 9.67, 9.75, 9.75, 9.83, 9.92, 9.92, 10.0, 10.0, 10.043199999999997, 10.08, 10.08, 10.25, 10.25, 10.25, 10.33, 10.42, 10.5, 10.5, 10.5, 10.58, 10.67, 10.75, 10.75, 10.75, 10.92, 10.92, 11.028799999999974, 11.17, 11.17, 11.25, 11.25, 11.33, 11.42, 11.42, 11.5, 11.5, 11.58, 11.58, 11.75, 11.75, 11.75, 11.848900000000004, 12.0, 12.0, 12.0, 12.25, 12.25, 12.42, 12.5, 12.67, 12.75, 12.75, 12.92, 13.0, 13.08, 13.25, 13.25, 13.5, 13.5, 13.92239999999998, 14.25, 14.5, 15.75]

const PercentileSkill25 = [5.67, 6.0, 6.08, 6.5, 6.67, 6.83, 7.0, 7.17, 7.25, 7.42, 7.5, 7.67, 7.75, 7.75, 7.92, 8.0, 8.0, 8.08, 8.25, 8.25, 8.42, 8.5, 8.5, 8.67, 8.67, 8.75, 8.92, 8.92, 9.0, 9.0, 9.17, 9.17, 9.25, 9.25, 9.33, 9.42, 9.5, 9.5, 9.58, 9.58, 9.67, 9.75, 9.75, 9.92, 9.92, 10.0, 10.08, 10.17, 10.25, 10.25, 10.25, 10.42, 10.42, 10.5, 10.5, 10.58, 10.67, 10.75, 10.75, 10.75, 10.83, 10.92, 10.92, 11.0, 11.08, 11.08, 11.17, 11.25, 11.33, 11.42, 11.42, 11.5, 11.67, 11.75, 11.75, 11.92, 11.92, 12.0, 12.0, 12.08, 12.25, 12.25, 12.25, 12.33, 12.42, 12.58, 12.67, 12.75, 12.92, 13.17, 13.25, 13.25, 13.5, 13.5, 13.58, 13.83, 13.92, 14.42, 14.75, 15.42]

const PercentileBerry50 = [5.92, 6.5, 6.92, 7.25, 7.5, 7.75, 7.92, 8.08, 8.25, 8.42, 8.58, 8.75, 8.83, 9.0, 9.08, 9.25, 9.25, 9.42, 9.5, 9.58, 9.75, 9.75, 9.92, 10.0, 10.08, 10.17, 10.25, 10.33, 10.42, 10.5, 10.58, 10.67, 10.75, 10.75, 10.83, 11.0, 11.0, 11.08, 11.17, 11.25, 11.25, 11.33, 11.5, 11.5, 11.58, 11.67, 11.75, 11.75, 11.83, 11.92, 12.0, 12.08, 12.17, 12.25, 12.25, 12.33, 12.42, 12.5, 12.58, 12.67, 12.75, 12.75, 12.83, 12.92, 13.0, 13.08, 13.17, 13.25, 13.25, 13.33, 13.5, 13.5, 13.58, 13.75, 13.75, 13.83, 14.0, 14.0, 14.17, 14.25, 14.25, 14.42, 14.5, 14.67, 14.75, 14.83, 15.0, 15.08, 15.25, 15.42, 15.5, 15.75, 15.83, 16.08, 16.25, 16.5, 16.83, 17.25, 17.75, 20.75]

const PercentileIngredient50 = [9.0, 9.5, 9.92, 10.08, 10.25, 10.5, 10.58, 10.75, 10.92, 11.08, 11.17, 11.25, 11.33, 11.5, 11.58, 11.67, 11.75, 11.83, 11.92, 12.0, 12.0, 12.08, 12.25, 12.25, 12.33, 12.42, 12.5, 12.58, 12.67, 12.67, 12.75, 12.75, 12.83, 12.92, 13.0, 13.0, 13.08, 13.17, 13.25, 13.25, 13.33, 13.42, 13.5, 13.5, 13.58, 13.67, 13.75, 13.75, 13.75, 13.83, 13.92, 14.0, 14.0, 14.08, 14.17, 14.25, 14.25, 14.25, 14.33, 14.42, 14.5, 14.5, 14.58, 14.67, 14.75, 14.75, 14.75, 14.92, 15.0, 15.0, 15.0, 15.17, 15.25, 15.25, 15.33, 15.42, 15.5, 15.5, 15.58, 15.75, 15.75, 15.83, 15.92, 16.0, 16.08, 16.25, 16.25, 16.42, 16.5, 16.58, 16.75, 16.83, 17.0, 17.17, 17.25, 17.5, 17.75, 18.17, 18.5, 20.75]

const PercentileSkill50 = [8.67, 9.17, 9.5, 9.75, 10.0, 10.17, 10.42, 10.5, 10.67, 10.75, 10.92, 11.0, 11.17, 11.25, 11.33, 11.42, 11.5, 11.67, 11.75, 11.75, 11.92, 12.0, 12.0, 12.08, 12.17, 12.25, 12.33, 12.42, 12.5, 12.5, 12.67, 12.67, 12.75, 12.83, 12.92, 13.0, 13.0, 13.08, 13.17, 13.25, 13.25, 13.33, 13.42, 13.5, 13.5, 13.58, 13.67, 13.75, 13.75, 13.75, 13.92, 13.92, 14.0, 14.08, 14.17, 14.17, 14.25, 14.25, 14.33, 14.42, 14.5, 14.5, 14.58, 14.67, 14.75, 14.75, 14.92, 14.92, 15.0, 15.08, 15.17, 15.25, 15.25, 15.33, 15.42, 15.5, 15.518399999999675, 15.67, 15.75, 15.75, 15.92, 16.0, 16.08, 16.17, 16.25, 16.33, 16.42, 16.5, 16.67, 16.75, 16.92, 17.08, 17.25, 17.33, 17.5, 17.75, 18.08, 18.42, 18.75, 20.42]
